<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>Ход конем</title>
</head>
<body>
  <center><h2>ХОД КОНЁМ</h2></center>
  
  <div class="sel">
    <div class="bord">
      <div class="corner"></div>
      <div class="vertical">1</div>
      <div class="vertical">2</div>
      <div class="vertical">3</div>
      <div class="vertical">4</div>
      <div class="vertical">5</div>
      <div class="vertical">6</div>
      <div class="vertical">7</div>
      <div class="vertical">8</div>
    </div>
    <div class="pole">
      <div class="horizont">a</div>
      <div class="horizont">b</div>
      <div class="horizont">c</div>
      <div class="horizont">d</div>
      <div class="horizont">e</div>
      <div class="horizont">f</div>
      <div class="horizont">g</div>
      <div class="horizont">h</div>
      <br />
      <div class="black" id="A1" onclick="foo(this.id)"></div>
      <div class="white" id="B1" onclick="foo(this.id)"></div>
      <div class="black" id="C1" onclick="foo(this.id)"></div>
      <div class="white" id="D1" onclick="foo(this.id)"></div>
      <div class="black" id="E1" onclick="foo(this.id)"></div>
      <div class="white" id="F1" onclick="foo(this.id)"></div>
      <div class="black" id="G1" onclick="foo(this.id)"></div>
      <div class="white" id="H1" onclick="foo(this.id)"></div>
      <br />
      <div class="white" id="A2" onclick="foo(this.id)"></div>
      <div class="black" id="B2" onclick="foo(this.id)"></div>
      <div class="white" id="C2" onclick="foo(this.id)"></div>
      <div class="black" id="D2" onclick="foo(this.id)"></div>
      <div class="white" id="E2" onclick="foo(this.id)"></div>
      <div class="black" id="F2" onclick="foo(this.id)"></div>
      <div class="white" id="G2" onclick="foo(this.id)"></div>
      <div class="black" id="H2" onclick="foo(this.id)"></div>
      <br />
      <div class="black" id="A3" onclick="foo(this.id)"></div>
      <div class="white" id="B3" onclick="foo(this.id)"></div>
      <div class="black" id="C3" onclick="foo(this.id)"></div>
      <div class="white" id="D3" onclick="foo(this.id)"></div>
      <div class="black" id="E3" onclick="foo(this.id)"></div>
      <div class="white" id="F3" onclick="foo(this.id)"></div>
      <div class="black" id="G3" onclick="foo(this.id)"></div>
      <div class="white" id="H3" onclick="foo(this.id)"></div>
      <br />
      <div class="white" id="A4" onclick="foo(this.id)"></div>
      <div class="black" id="B4" onclick="foo(this.id)"></div>
      <div class="white" id="C4" onclick="foo(this.id)"></div>
      <div class="black" id="D4" onclick="foo(this.id)"></div>
      <div class="white" id="E4" onclick="foo(this.id)"></div>
      <div class="black" id="F4" onclick="foo(this.id)"></div>
      <div class="white" id="G4" onclick="foo(this.id)"></div>
      <div class="black" id="H4" onclick="foo(this.id)"></div>
      <br />
      <div class="black" id="A5" onclick="foo(this.id)"></div>
      <div class="white" id="B5" onclick="foo(this.id)"></div>
      <div class="black" id="C5" onclick="foo(this.id)"></div>
      <div class="white" id="D5" onclick="foo(this.id)"></div>
      <div class="black" id="E5" onclick="foo(this.id)"></div>
      <div class="white" id="F5" onclick="foo(this.id)"></div>
      <div class="black" id="G5" onclick="foo(this.id)"></div>
      <div class="white" id="H5" onclick="foo(this.id)"></div>
      <br />
      <div class="white" id="A6" onclick="foo(this.id)"></div>
      <div class="black" id="B6" onclick="foo(this.id)"></div>
      <div class="white" id="C6" onclick="foo(this.id)"></div>
      <div class="black" id="D6" onclick="foo(this.id)"></div>
      <div class="white" id="E6" onclick="foo(this.id)"></div>
      <div class="black" id="F6" onclick="foo(this.id)"></div>
      <div class="white" id="G6" onclick="foo(this.id)"></div>
      <div class="black" id="H6" onclick="foo(this.id)"></div>
      <br />
      <div class="black" id="A7" onclick="foo(this.id)"></div>
      <div class="white" id="B7" onclick="foo(this.id)"></div>
      <div class="black" id="C7" onclick="foo(this.id)"></div>
      <div class="white" id="D7" onclick="foo(this.id)"></div>
      <div class="black" id="E7" onclick="foo(this.id)"></div>
      <div class="white" id="F7" onclick="foo(this.id)"></div>
      <div class="black" id="G7" onclick="foo(this.id)"></div>
      <div class="white" id="H7" onclick="foo(this.id)"></div>
      <br />
      <div class="white" id="A8" onclick="foo(this.id)"></div>
      <div class="black" id="B8" onclick="foo(this.id)"></div>
      <div class="white" id="C8" onclick="foo(this.id)"></div>
      <div class="black" id="D8" onclick="foo(this.id)"></div>
      <div class="white" id="E8" onclick="foo(this.id)"></div>
      <div class="black" id="F8" onclick="foo(this.id)"></div>
      <div class="white" id="G8" onclick="foo(this.id)"></div>
      <div class="black" id="H8" onclick="foo(this.id)"></div>
      <br />
      <div class="horizont">a</div>
      <div class="horizont">b</div>
      <div class="horizont">c</div>
      <div class="horizont">d</div>
      <div class="horizont">e</div>
      <div class="horizont">f</div>
      <div class="horizont">g</div>
      <div class="horizont">h</div>
    </div>
    <div class="bord">
      <div class="corner"></div>
      <div class="vertical">1</div>
      <div class="vertical">2</div>
      <div class="vertical">3</div>
      <div class="vertical">4</div>
      <div class="vertical">5</div>
      <div class="vertical">6</div>
      <div class="vertical">7</div>
      <div class="vertical">8</div>
    </div>
  </div>
</body>

<script>
// Массив содержащий позиции черных клеток
let black = ["A1", "C1", "E1", "G1", "B2", "D2", "F2", "H2",
             "A3", "C3", "E3", "G3", "B4", "D4", "F4", "H4",
			 "A5", "C5", "E5", "G5", "B6", "D6", "F6", "H6",
			 "A7", "C7", "E7", "G7", "B8", "D8", "F8", "H8"];
// Массив содержащий позиции белых клеток
let white = ["B1", "D1", "F1", "H1", "A2", "C2", "E2", "G2",
             "B3", "D3", "F3", "H3", "A4", "C4", "E4", "G4",
			 "B5", "D5", "F5", "H5", "A6", "C6", "E6", "G6",
			 "B7", "D7", "F7", "H7", "A8", "C8", "E8", "G8"];
// Массивы для конвертирования обозначений	клеток		 
let num1 = ["A", "B", "C", "D", "E", "F", "G", "H"];  
let num2 = [1,2,3,4,5,6,7,8];

// Конвертирование букв в цифры
function convertC(Z) {
  let k = -1;
  
  for (i = 0; i < num1.length; i++) {
    if (Z === num1[i]) {
      k = i;
      break;
    }
  }

  if (k === -1) {
    return  "err";
  } else {
    return num2[k];
  }
}


// Конвертирование цифр в буквы
function convertN(Z) {
  let k = -1;
  
  for (t = 0; t < num2.length; t++) {
    if (Z === num2[t]) {
      k = t;
      break;
    }
  }
  
  if (k === -1) {
    return  "err";
  } else {
	return num1[k];
  }
}

// Востановление поля
function clr(){
  for (i = 0; i <= 31; i++) {
    document.getElementById(white[i]).className = "white";
  }
  for (i = 0; i <= 31; i++) {
    document.getElementById(black[i]).className = "black";
  }
}

//
function foo(a) {
  clr();
  document.getElementById(a).className = "blue";
  let x = parseInt(convertC((a[0].toUpperCase())));	
  let y = parseInt(a[1]);
  let str = '';	
  // Перебираем ходы 
  for (i = 1; i <= 8; i++) {
    for (j = 1; j <= 8; j++) {
      let d1 = Math.abs(i - x);
      let d2 = Math.abs(j - y);
      if(((d1 === 1) && (d2 === 2)) || ((d1 === 2) && (d2 === 1))){
        str = convertN(i) + j;
        document.getElementById(str).className = "green";
      }
    }
  }
}
</script>
